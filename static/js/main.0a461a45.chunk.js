(this.webpackJsonpdeliveryapp=this.webpackJsonpdeliveryapp||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(21),c=a.n(s),i=(a(91),a(29)),o=(a(92),a(82)),l=a(8),j=a(14),d=a(24),b=a.n(d),u={getUsers:function(){return b.a.get("https://deliveryapp-api.herokuapp.com/api/users?page=0&limit=30&name=")},createUser:function(e){return b.a.post("https://deliveryapp-api.herokuapp.com/api/users",e)},getUserById:function(e){return b.a.get("https://deliveryapp-api.herokuapp.com/api/users/"+e)},deleteUser:function(e){return b.a.delete("https://deliveryapp-api.herokuapp.com/api/users/"+e)},updateUser:function(e,t){return b.a.put("https://deliveryapp-api.herokuapp.com/api/users/"+e,t)}},h=a(9),p=a(23),m=a(41),O=a(2);function x(){var e=Object(r.useState)({name:"",email:"",password:""}),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(O.jsx)(m.a,{bsPrefix:"card createusercard center melonborder",children:Object(O.jsxs)(h.a,{onSubmit:function(e){console.log(a),e.preventDefault(),u.createUser(a).then((function(e){console.log(e)}),(function(e){return console.log("deu erro!!!",e)}))},children:[Object(O.jsxs)(h.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(O.jsx)(h.a.Label,{children:"Email address"}),Object(O.jsx)(h.a.Control,{type:"name",placeholder:"Enter name",value:a.name,onChange:function(e){n(Object(j.a)(Object(j.a)({},a),{},{name:e.target.value}))}})]}),Object(O.jsxs)(h.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(O.jsx)(h.a.Label,{children:"Email address"}),Object(O.jsx)(h.a.Control,{type:"email",placeholder:"Enter email",value:a.email,onChange:function(e){n(Object(j.a)(Object(j.a)({},a),{},{email:e.target.value}))}}),Object(O.jsx)(h.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(O.jsxs)(h.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(O.jsx)(h.a.Label,{children:"Password"}),Object(O.jsx)(h.a.Control,{type:"password",placeholder:"Password",value:a.password,onChange:function(e){n(Object(j.a)(Object(j.a)({},a),{},{password:e.target.value}))}})]}),Object(O.jsx)(p.a,{variant:"success",type:"submit",children:"Submit"})]})})}var g=a(62),f=a.p+"static/media/undraw_tasting_de22.fc321559.svg",v=a(78),y=a(43),w=a(77);function C(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(g.a,{className:"center",bsPrefix:"jumbotron fullpage bg-rosequartz",children:Object(O.jsxs)(y.a,{bsPrefix:"col containetOverlap",children:[Object(O.jsxs)(w.a,{sm:"2",bsPrefix:"row toprow",children:[Object(O.jsx)(y.a,{bsPrefix:"col center",children:Object(O.jsx)(x,{})}),Object(O.jsxs)(y.a,{bsPrefix:"col center",children:[Object(O.jsx)("h1",{children:"Uma frase de efeito!"}),Object(O.jsxs)("p",{children:["Alguma frase legal para atrair leads",Object(O.jsx)("strong",{children:" atrav\xe9s de uma informa\xe7\xe3o relevante "}),"e um bot\xe3o para criar conta."]})]})]}),Object(O.jsx)(w.a,{sm:"2",bsPrefix:"row overlayrow",children:Object(O.jsx)(v.a,{bsPrefix:"img-fluid overlayimg ",fluid:!0,src:f})})]})})})}a(115);var P=a(27),k=a(26),L=a(65),N=a(32),S=a.p+"static/media/watermelon-icon.14c6f06f.png",I=a(84),U=a(83),B=function(){return JSON.parse(localStorage.getItem("user"))},E={login:function(e){return b.a.post("https://deliveryapp-api.herokuapp.com/api/users/login",e)},logout:function(e){return b.a.post("https://deliveryapp-api.herokuapp.com/api/users/logout",{},e)},getCurrentUser:B,authHeader:function(){var e=B();return e&&e.token?{headers:{authorization:e.token}}:{}},hasPermission:function(e){return B().data.permissions==e}},H=a(86),F=a(80);function M(e){var t=e.handleLogin,a=Object(r.useState)({email:"",password:""}),n=Object(i.a)(a,2),s=n[0],c=n[1],o=Object(r.useState)(!1),d=Object(i.a)(o,2),b=d[0],u=d[1],x=Object(r.useState)(!1),g=Object(i.a)(x,2),f=g[0],v=g[1],y=Object(l.useHistory)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(m.a,{bsPrefix:"card logincard center melonborder",children:f?Object(O.jsx)(F.a,{animation:"border",role:"status",variant:"success"}):Object(O.jsxs)(h.a,{className:"center",onSubmit:function(e){v(!0),e.preventDefault(),E.login(s).then((function(e){localStorage.setItem("user",JSON.stringify(e.data)),t(),y.push("/")}),(function(e){console.log(e.message),u(e.message),v(!1)}))},children:[Object(O.jsxs)(h.a.Group,{className:"mb-3 center",controlId:"formBasicEmail",children:[Object(O.jsx)(h.a.Label,{children:"Email address"}),Object(O.jsx)(h.a.Control,{type:"email",placeholder:"Enter email",value:s.email,onChange:function(e){c(Object(j.a)(Object(j.a)({},s),{},{email:e.target.value}))}}),Object(O.jsx)(h.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(O.jsxs)(h.a.Group,{className:"mb-3 center",controlId:"formBasicPassword",children:[Object(O.jsx)(h.a.Label,{children:"Password"}),Object(O.jsx)(h.a.Control,{type:"password",placeholder:"Password",value:s.password,onChange:function(e){c(Object(j.a)(Object(j.a)({},s),{},{password:e.target.value}))}})]}),b&&Object(O.jsx)(H.a,{variant:"danger",children:" Invalid Credentials!"}),Object(O.jsx)(p.a,{variant:"success",type:"submit",children:"Submit"})]})})})}function T(e){var t=e.handleLogout,a=Object(l.useHistory)();return Object(O.jsx)(k.a.Item,{onClick:function(){var e=E.authHeader();E.logout(e).then((function(e){localStorage.removeItem("user"),t(),a.push("/")}),(function(e){return Object(O.jsx)("label",{children:e})}))},children:"Logout"})}var A=a(25),D=a.n(A),K=function(e){var t=e.authStatus,a=e.handleLogout,r=e.handleLogin,n=Object(O.jsx)(I.a,{id:"popover-basic",children:Object(O.jsx)(M,{handleLogin:r})});return t?Object(O.jsx)(P.a,{bg:"green",expand:"lg",variant:"dark",sticky:"top",collapseOnSelect:"true",children:Object(O.jsxs)(L.a,{children:[Object(O.jsxs)(P.a.Brand,{eventKey:"1",bsPrefix:"navbar-brand brandFont",as:D.a,to:"/",children:[Object(O.jsx)("img",{src:S,width:"30px",height:"30px"}),"Melon"]}),Object(O.jsx)(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsx)(P.a.Collapse,{id:"basic-navbar-nav",children:Object(O.jsxs)(N.a,{className:"ml-auto",children:[Object(O.jsx)(N.a.Link,{eventKey:"1",as:D.a,to:"/",children:"Home"}),Object(O.jsx)(N.a.Link,{eventKey:"1",as:D.a,to:"/restaurants",children:"Restaurants"}),Object(O.jsxs)(k.a,{title:"My Account",id:"basic-nav-dropdown",children:[Object(O.jsx)(k.a.Item,{href:"#action/3.1",children:"Change my Data"}),Object(O.jsx)(k.a.Item,{href:"#action/3.2",children:"My Orders"}),Object(O.jsx)(k.a.Item,{href:"#action/3.2",children:"Help"}),Object(O.jsx)(k.a.Divider,{}),Object(O.jsx)(T,{handleLogout:a})]})]})})]})}):Object(O.jsx)(P.a,{bg:"green",expand:"lg",variant:"dark",sticky:"top",collapseOnSelect:"true",children:Object(O.jsxs)(L.a,{children:[Object(O.jsxs)(P.a.Brand,{eventKey:"1",bsPrefix:"navbar-brand brandFont",as:D.a,to:"/",children:[Object(O.jsx)("img",{src:S,width:"30px",height:"30px"}),"Melon"]}),Object(O.jsx)(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsx)(P.a.Collapse,{id:"basic-navbar-nav",children:Object(O.jsxs)(N.a,{className:"ml-auto",children:[Object(O.jsx)(N.a.Link,{eventKey:"1",as:D.a,to:"/",children:"Home"}),Object(O.jsx)(N.a.Link,{eventKey:"1",as:D.a,to:"/createuser",children:"Create an Account"}),Object(O.jsx)(U.a,{trigger:"click",placement:"bottom",overlay:n,children:Object(O.jsx)(N.a.Link,{children:"Login"})}),Object(O.jsxs)(k.a,{title:"More",id:"basic-nav-dropdown",children:[Object(O.jsx)(k.a.Item,{href:"#action/3.2",children:"Help"}),Object(O.jsx)(k.a.Item,{href:"#action/3.2",children:"Contact Us!"})]})]})})]})})},_=a(85),G=["component"],R=function(e){var t=e.split(", ");return(t=t.filter((function(e){return E.hasPermission(e)}))).length>0},J=function(e){var t=e.component,a=Object(_.a)(e,G);return Object(O.jsx)(l.Route,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return E.getCurrentUser()&&R(a.permissions)?Object(O.jsx)(t,Object(j.a)({},e)):Object(O.jsx)(l.Redirect,{to:{pathname:"/login",state:{from:e.location}}})}}))},z=a.p+"static/media/undraw_breakfast_psiw.fdfbdb40.svg",q=a.p+"static/media/undraw_Hamburger_8ge6.f04a3704.svg",W=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(g.a,{className:"center",bsPrefix:"jumbotron bg-neongreen homecontent",children:Object(O.jsxs)(w.a,{children:[Object(O.jsxs)(y.a,{sm:!0,className:"center",children:[Object(O.jsx)("h1",{children:"Uma frase de efeito!"}),Object(O.jsxs)("p",{children:["Alguma frase legal para atrair leads",Object(O.jsx)("strong",{children:" atrav\xe9s de uma informa\xe7\xe3o relevante "}),"e um bot\xe3o para criar conta."]}),Object(O.jsx)("p",{children:Object(O.jsx)(p.a,{as:D.a,to:"/createuser",bsPrefix:"btn",variant:"success",children:Object(O.jsx)("strong",{children:"Sign up!"})})})]}),Object(O.jsx)(y.a,{sm:!0,children:Object(O.jsx)("img",{className:"img-fluid",src:z})})]})}),Object(O.jsxs)(g.a,{bsPrefix:"jumbotron bg-rosequartz homecontent",children:[Object(O.jsx)("h1",{children:"Hello, world!"}),Object(O.jsx)("p",{children:"This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information."}),Object(O.jsx)("img",{className:"img-fluid",src:q})]})]})};var Q=function(){var e=Object(r.useState)(!!E.getCurrentUser()),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(O.jsxs)(o.a,{children:[Object(O.jsx)(K,{authStatus:a,handleLogout:function(){n(!1)},handleLogin:function(){n(!0)}}),Object(O.jsx)("div",{className:"App",children:Object(O.jsx)("div",{className:"content",children:Object(O.jsxs)(l.Switch,{children:[Object(O.jsx)(l.Route,{exact:!0,path:"/",children:Object(O.jsx)(W,{})}),Object(O.jsx)(l.Route,{path:"/createuser",children:Object(O.jsx)(C,{})}),Object(O.jsx)(J,{path:"/mydata",component:Object(O.jsx)("h1",{children:"My data private!!!"}),permissions:"CLIENT, ADMIN"})]})})})]})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,127)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))};c.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(Q,{})}),document.getElementById("root")),V()},91:function(e,t,a){},92:function(e,t,a){}},[[122,1,2]]]);
//# sourceMappingURL=main.0a461a45.chunk.js.map